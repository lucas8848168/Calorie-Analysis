# é¡¹ç›®æ¶æ„è¯´æ˜ - æ•°æ®å­˜å‚¨ä¸åç«¯è§’è‰²

## å½“å‰æ¶æ„æ¦‚è§ˆ

### æ•°æ®å­˜å‚¨ä½ç½®

**ç”¨æˆ·æ•°æ®**: ğŸ“± **æœ¬åœ°å­˜å‚¨ï¼ˆLocalStorageï¼‰**
- é¤æ¬¡è®°å½• â†’ `localStorage['meals']`
- å†å²è®°å½• â†’ `localStorage['food_analyzer_history']`
- ç›®æ ‡è®¾ç½® â†’ `localStorage['goals']`
- æ”¶è—é£Ÿç‰© â†’ `localStorage['favorites']`
- æ¨¡æ¿æ•°æ® â†’ `localStorage['templates']`
- æé†’è®¾ç½® â†’ `localStorage['reminder_settings']`

**AIè¯†åˆ«**: â˜ï¸ **è¿œç¨‹APIè°ƒç”¨**
- å›¾ç‰‡ä¸Šä¼  â†’ Cloudflare Workers â†’ è±†åŒ…AI API
- è¯†åˆ«ç»“æœè¿”å› â†’ å‰ç«¯å±•ç¤ºå’Œæœ¬åœ°å­˜å‚¨

---

## å½“å‰æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                            â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚         React å‰ç«¯åº”ç”¨                      â”‚        â”‚
â”‚  â”‚  - ç”¨æˆ·ç•Œé¢                                 â”‚        â”‚
â”‚  â”‚  - ä¸šåŠ¡é€»è¾‘                                 â”‚        â”‚
â”‚  â”‚  - æ•°æ®å¤„ç†                                 â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚      LocalStorage (æœ¬åœ°å­˜å‚¨)                â”‚        â”‚
â”‚  â”‚  - meals (é¤æ¬¡è®°å½•)                         â”‚        â”‚
â”‚  â”‚  - goals (ç›®æ ‡è®¾ç½®)                         â”‚        â”‚
â”‚  â”‚  - favorites (æ”¶è—)                         â”‚        â”‚
â”‚  â”‚  - history (å†å²è®°å½•)                       â”‚        â”‚
â”‚  â”‚  å®¹é‡é™åˆ¶: 5-10MB                           â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“ (ä»…AIè¯†åˆ«æ—¶)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Cloudflare Workers (åç«¯)                   â”‚
â”‚  - æ¥æ”¶å›¾ç‰‡                                              â”‚
â”‚  - è°ƒç”¨è±†åŒ…AI API                                        â”‚
â”‚  - è¿”å›è¯†åˆ«ç»“æœ                                          â”‚
â”‚  - ä¸å­˜å‚¨ç”¨æˆ·æ•°æ®                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è±†åŒ… AI API (ç¬¬ä¸‰æ–¹)                        â”‚
â”‚  - å›¾ç‰‡è¯†åˆ«                                              â”‚
â”‚  - è¥å…»åˆ†æ                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ºä»€ä¹ˆéœ€è¦åç«¯ï¼Ÿ

è™½ç„¶ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä½†åç«¯ï¼ˆCloudflare Workersï¼‰ä»ç„¶æ˜¯**å¿…éœ€çš„**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

### 1. **APIå¯†é’¥ä¿æŠ¤** ğŸ” (æœ€é‡è¦)

**é—®é¢˜**: å¦‚æœç›´æ¥åœ¨å‰ç«¯è°ƒç”¨è±†åŒ…AI APIï¼š

```typescript
// âŒ å±é™©åšæ³• - å‰ç«¯ç›´æ¥è°ƒç”¨
const response = await fetch('https://ark.cn-beijing.volces.com/api/v3/chat/completions', {
  headers: {
    'Authorization': 'Bearer sk-xxxxx'  // APIå¯†é’¥æš´éœ²åœ¨å‰ç«¯ä»£ç ä¸­ï¼
  }
});
```

**é£é™©**:
- âœ… ä»»ä½•äººæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·å°±èƒ½çœ‹åˆ°APIå¯†é’¥
- âœ… æ¶æ„ç”¨æˆ·å¯ä»¥å¤åˆ¶å¯†é’¥ï¼Œæ— é™è°ƒç”¨API
- âœ… ä½ çš„APIè´¦æˆ·ä¼šè¢«åˆ·çˆ†ï¼Œäº§ç”Ÿå·¨é¢è´¹ç”¨
- âœ… å¯†é’¥æ³„éœ²åæ— æ³•è¿½è¸ªæ˜¯è°åœ¨æ»¥ç”¨

**è§£å†³æ–¹æ¡ˆ**: åç«¯ä»£ç†

```typescript
// âœ… å®‰å…¨åšæ³• - é€šè¿‡åç«¯ä»£ç†
// å‰ç«¯ä»£ç 
const response = await fetch('http://localhost:8787/api/analyze', {
  method: 'POST',
  body: JSON.stringify({ image: base64Image })
  // ä¸éœ€è¦APIå¯†é’¥ï¼
});

// åç«¯ä»£ç  (Cloudflare Workers)
export default {
  async fetch(request, env) {
    const apiKey = env.DOUBAO_API_KEY;  // å¯†é’¥å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
    // è°ƒç”¨è±†åŒ…API
    const result = await callDoubaoAPI(apiKey, imageData);
    return new Response(JSON.stringify(result));
  }
}
```

**å¥½å¤„**:
- âœ… APIå¯†é’¥å®‰å…¨å­˜å‚¨åœ¨æœåŠ¡å™¨ç¯å¢ƒå˜é‡ä¸­
- âœ… å‰ç«¯ä»£ç ä¸­å®Œå…¨çœ‹ä¸åˆ°å¯†é’¥
- âœ… å¯ä»¥åœ¨åç«¯å®ç°è®¿é—®æ§åˆ¶å’Œé™æµ

---

### 2. **è®¿é—®æ§åˆ¶ä¸é™æµ** ğŸš¦

**é—®é¢˜**: æ²¡æœ‰åç«¯çš„è¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥æ— é™è°ƒç”¨ä½ çš„æœåŠ¡

**åç«¯å¯ä»¥å®ç°**:

```typescript
// é™æµæ§åˆ¶
const rateLimiter = {
  // æ¯ä¸ªIPæ¯å°æ—¶æœ€å¤š10æ¬¡è¯·æ±‚
  async checkLimit(ip: string): Promise<boolean> {
    const key = `rate_limit:${ip}`;
    const count = await env.KV.get(key);
    
    if (count && parseInt(count) > 10) {
      return false;  // è¶…è¿‡é™åˆ¶
    }
    
    await env.KV.put(key, (parseInt(count || '0') + 1).toString(), {
      expirationTtl: 3600  // 1å°æ—¶åè¿‡æœŸ
    });
    
    return true;
  }
};

// ç”¨æˆ·è®¤è¯ï¼ˆå•†ä¸šåŒ–åï¼‰
async function authenticate(request: Request): Promise<User | null> {
  const token = request.headers.get('Authorization');
  if (!token) return null;
  
  // éªŒè¯JWT token
  const user = await verifyToken(token);
  return user;
}
```

**å¥½å¤„**:
- âœ… é˜²æ­¢æ¶æ„åˆ·é‡
- âœ… ä¿æŠ¤APIæˆæœ¬
- âœ… ä¸ºå•†ä¸šåŒ–åšå‡†å¤‡ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶æ¬¡æ•°ï¼‰

---

### 3. **æ•°æ®å¤„ç†ä¸ä¼˜åŒ–** âš¡

**åç«¯å¯ä»¥åšçš„ä¼˜åŒ–**:

```typescript
// å›¾ç‰‡é¢„å¤„ç†
async function preprocessImage(imageData: string): Promise<string> {
  // 1. å‹ç¼©å›¾ç‰‡ï¼ˆå‡å°‘APIè°ƒç”¨æˆæœ¬ï¼‰
  const compressed = await compressImage(imageData, {
    maxWidth: 1024,
    maxHeight: 1024,
    quality: 0.8
  });
  
  // 2. æ ¼å¼è½¬æ¢ï¼ˆç»Ÿä¸€ä¸ºJPEGï¼‰
  const jpeg = await convertToJPEG(compressed);
  
  // 3. æ·»åŠ æ°´å°ï¼ˆé˜²æ­¢æ»¥ç”¨ï¼‰
  const watermarked = await addWatermark(jpeg);
  
  return watermarked;
}

// ç»“æœç¼“å­˜
async function getCachedResult(imageHash: string): Promise<Result | null> {
  // ç›¸åŒå›¾ç‰‡ä¸é‡å¤è¯†åˆ«ï¼ŒèŠ‚çœæˆæœ¬
  const cached = await env.KV.get(`result:${imageHash}`);
  return cached ? JSON.parse(cached) : null;
}
```

**å¥½å¤„**:
- âœ… é™ä½APIè°ƒç”¨æˆæœ¬
- âœ… æå‡å“åº”é€Ÿåº¦
- âœ… ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

---

### 4. **é”™è¯¯å¤„ç†ä¸é‡è¯•** ğŸ”„

**åç«¯å¯ä»¥å®ç°æ™ºèƒ½é‡è¯•**:

```typescript
async function callAPIWithRetry(imageData: string, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const result = await callDoubaoAPI(imageData);
      return result;
    } catch (error) {
      if (i === maxRetries - 1) throw error;
      
      // æŒ‡æ•°é€€é¿
      await sleep(Math.pow(2, i) * 1000);
    }
  }
}
```

**å¥½å¤„**:
- âœ… æé«˜æˆåŠŸç‡
- âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†

---

### 5. **æ—¥å¿—ä¸ç›‘æ§** ğŸ“Š

**åç«¯å¯ä»¥è®°å½•å…³é”®ä¿¡æ¯**:

```typescript
async function logAPICall(request: Request, result: any) {
  await env.ANALYTICS.writeDataPoint({
    timestamp: Date.now(),
    ip: request.headers.get('CF-Connecting-IP'),
    userAgent: request.headers.get('User-Agent'),
    success: result.success,
    responseTime: result.duration,
    cost: calculateCost(result)
  });
}
```

**å¥½å¤„**:
- âœ… è¿½è¸ªAPIä½¿ç”¨æƒ…å†µ
- âœ… ç›‘æ§æˆæœ¬
- âœ… å‘ç°å¼‚å¸¸è¡Œä¸º
- âœ… ä¼˜åŒ–æœåŠ¡è´¨é‡

---

### 6. **ä¸ºå•†ä¸šåŒ–åšå‡†å¤‡** ğŸ’°

**åç«¯æ˜¯å•†ä¸šåŒ–çš„åŸºç¡€**:

```typescript
// ç”¨æˆ·è®¤è¯
async function checkUserPermission(user: User): Promise<boolean> {
  // å…è´¹ç”¨æˆ·ï¼šæ¯æ—¥3æ¬¡
  if (user.plan === 'free') {
    const todayCount = await getUserTodayCount(user.id);
    return todayCount < 3;
  }
  
  // ä»˜è´¹ç”¨æˆ·ï¼šæ— é™æ¬¡
  if (user.plan === 'premium') {
    return true;
  }
  
  return false;
}

// è®¡è´¹ç»Ÿè®¡
async function recordUsage(userId: string) {
  await env.DB.prepare(
    'INSERT INTO usage_logs (user_id, timestamp, feature) VALUES (?, ?, ?)'
  ).bind(userId, Date.now(), 'food_recognition').run();
}
```

**å¥½å¤„**:
- âœ… å®ç°ä»˜è´¹è®¢é˜…
- âœ… ç»Ÿè®¡ç”¨æˆ·ä½¿ç”¨é‡
- âœ… çµæ´»çš„å®šä»·ç­–ç•¥

---

## ä¸ºä»€ä¹ˆä¸æŠŠæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨åç«¯ï¼Ÿ

### å½“å‰è®¾è®¡çš„ä¼˜åŠ¿

**1. é™ä½æˆæœ¬** ğŸ’°
- ä¸éœ€è¦æ•°æ®åº“æœåŠ¡å™¨
- ä¸éœ€è¦å­˜å‚¨è´¹ç”¨
- ä¸éœ€è¦å¤‡ä»½æœåŠ¡
- **é€‚åˆMVPé˜¶æ®µ**

**2. æ›´å¿«çš„å“åº”é€Ÿåº¦** âš¡
- æœ¬åœ°è¯»å–ï¼Œæ— ç½‘ç»œå»¶è¿Ÿ
- ç¦»çº¿ä¹Ÿèƒ½æŸ¥çœ‹å†å²æ•°æ®
- ä¸ä¾èµ–æœåŠ¡å™¨å¯ç”¨æ€§

**3. éšç§ä¿æŠ¤** ğŸ”’
- ç”¨æˆ·æ•°æ®ä¸ä¸Šä¼ æœåŠ¡å™¨
- ç¬¦åˆéšç§ä¿æŠ¤è¶‹åŠ¿
- å‡å°‘æ•°æ®æ³„éœ²é£é™©

**4. ç®€åŒ–æ¶æ„** ğŸ—ï¸
- ä¸éœ€è¦å¤æ‚çš„æ•°æ®åº“è®¾è®¡
- ä¸éœ€è¦æ•°æ®åŒæ­¥é€»è¾‘
- å¼€å‘é€Ÿåº¦å¿«

### å½“å‰è®¾è®¡çš„åŠ£åŠ¿

**1. æ— æ³•è·¨è®¾å¤‡** ğŸ“±ğŸ’»
- æ¢è®¾å¤‡æ•°æ®ä¸¢å¤±
- æ— æ³•åœ¨å¤šè®¾å¤‡é—´åŒæ­¥
- **è¿™æ˜¯å•†ä¸šåŒ–çš„æœ€å¤§éšœç¢**

**2. æ•°æ®å®¹é‡é™åˆ¶** ğŸ’¾
- LocalStorageåªæœ‰5-10MB
- æ— æ³•å­˜å‚¨å¤§é‡å†å²æ•°æ®
- å›¾ç‰‡å­˜å‚¨å—é™

**3. æ•°æ®å®‰å…¨æ€§ä½** âš ï¸
- æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šä¸¢å¤±
- æ— æ³•æ¢å¤
- æ— æ³•å¤‡ä»½

**4. æ— æ³•å®ç°é«˜çº§åŠŸèƒ½** ğŸš«
- æ— æ³•åšç”¨æˆ·ç”»åƒ
- æ— æ³•åšæ™ºèƒ½æ¨è
- æ— æ³•åšç¤¾äº¤åŠŸèƒ½

---

## å•†ä¸šåŒ–åçš„ç†æƒ³æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚         React å‰ç«¯åº”ç”¨                      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   IndexedDB (æœ¬åœ°ç¼“å­˜ - ç¦»çº¿æ”¯æŒ)          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†• (åŒå‘åŒæ­¥)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Cloudflare Workers (åç«¯)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  APIç½‘å…³                                  â”‚          â”‚
â”‚  â”‚  - è®¤è¯é‰´æƒ                               â”‚          â”‚
â”‚  â”‚  - é™æµæ§åˆ¶                               â”‚          â”‚
â”‚  â”‚  - æ—¥å¿—è®°å½•                               â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  ä¸šåŠ¡æœåŠ¡                                 â”‚          â”‚
â”‚  â”‚  - ç”¨æˆ·æœåŠ¡                               â”‚          â”‚
â”‚  â”‚  - é¤æ¬¡æœåŠ¡                               â”‚          â”‚
â”‚  â”‚  - AIæœåŠ¡                                 â”‚          â”‚
â”‚  â”‚  - æ”¯ä»˜æœåŠ¡                               â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚D1 æ•°æ®åº“ â”‚R2 å¯¹è±¡å­˜å‚¨â”‚KV ç¼“å­˜   â”‚Vectorize â”‚        â”‚
â”‚  â”‚(ç”¨æˆ·æ•°æ®)â”‚(å›¾ç‰‡)     â”‚(ä¼šè¯)    â”‚(AIå‘é‡)  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**:
- âœ… è·¨è®¾å¤‡åŒæ­¥
- âœ… æ•°æ®æ°¸ä¹…ä¿å­˜
- âœ… æ”¯æŒé«˜çº§åŠŸèƒ½
- âœ… ç¦»çº¿ä¹Ÿèƒ½ä½¿ç”¨ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰

---

## æ€»ç»“

### å½“å‰æ¶æ„ï¼ˆMVPé˜¶æ®µï¼‰

| ç»„ä»¶ | ä½ç½® | ä½œç”¨ |
|------|------|------|
| ç”¨æˆ·æ•°æ® | æœ¬åœ°LocalStorage | å­˜å‚¨é¤æ¬¡ã€ç›®æ ‡ã€æ”¶è—ç­‰ |
| åç«¯Workers | Cloudflare | **ä¿æŠ¤APIå¯†é’¥**ã€é™æµã€ä¼˜åŒ– |
| AIè¯†åˆ« | è±†åŒ…API | é£Ÿç‰©è¯†åˆ«å’Œè¥å…»åˆ†æ |

**æ ¸å¿ƒåŸå› **: åç«¯ä¸»è¦æ˜¯ä¸ºäº†**ä¿æŠ¤APIå¯†é’¥**ï¼Œè€Œä¸æ˜¯å­˜å‚¨ç”¨æˆ·æ•°æ®

### å•†ä¸šåŒ–åçš„æ¶æ„

| ç»„ä»¶ | ä½ç½® | ä½œç”¨ |
|------|------|------|
| ç”¨æˆ·æ•°æ® | äº‘ç«¯æ•°æ®åº“ | æ°¸ä¹…å­˜å‚¨ã€è·¨è®¾å¤‡åŒæ­¥ |
| æœ¬åœ°ç¼“å­˜ | IndexedDB | ç¦»çº¿æ”¯æŒã€å¿«é€Ÿè®¿é—® |
| åç«¯æœåŠ¡ | Cloudflare | å®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ã€è®¤è¯ã€æ”¯ä»˜ |
| AIè¯†åˆ« | è±†åŒ…API | é£Ÿç‰©è¯†åˆ«å’Œè¥å…»åˆ†æ |

**æ ¸å¿ƒå˜åŒ–**: åç«¯æ‰¿æ‹…**å®Œæ•´çš„ä¸šåŠ¡é€»è¾‘**å’Œ**æ•°æ®ç®¡ç†**

---

## å…³é”®è¦ç‚¹

1. **åç«¯ä¸æ˜¯å¯é€‰çš„** - å³ä½¿æ•°æ®å­˜æœ¬åœ°ï¼Œä¹Ÿéœ€è¦åç«¯ä¿æŠ¤APIå¯†é’¥
2. **å½“å‰æ¶æ„é€‚åˆMVP** - å¿«é€Ÿå¼€å‘ã€ä½æˆæœ¬
3. **å•†ä¸šåŒ–å¿…é¡»å‡çº§** - éœ€è¦äº‘ç«¯å­˜å‚¨å’Œå®Œæ•´åç«¯æœåŠ¡
4. **æ¸è¿›å¼è¿ç§»** - å¯ä»¥å…ˆä¿æŒæœ¬åœ°å­˜å‚¨ï¼Œé€æ­¥æ·»åŠ äº‘ç«¯åŒæ­¥

---

**ç»“è®º**: åç«¯ï¼ˆCloudflare Workersï¼‰åœ¨å½“å‰æ¶æ„ä¸­ä¸»è¦èµ·åˆ°**APIä»£ç†**å’Œ**å®‰å…¨ä¿æŠ¤**çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯æ•°æ®å­˜å‚¨ã€‚ä½†è¦å®ç°å•†ä¸šåŒ–ï¼Œå¿…é¡»å‡çº§ä¸ºå®Œæ•´çš„åç«¯æœåŠ¡ï¼Œæ‰¿æ‹…ç”¨æˆ·ç®¡ç†ã€æ•°æ®åŒæ­¥ã€æ”¯ä»˜ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚
